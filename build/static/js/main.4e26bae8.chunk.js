(this["webpackJsonpfree-hosting"]=this["webpackJsonpfree-hosting"]||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(0),o=a.n(r),i=a(10),s=a.n(i),c=(a(83),a(72)),l=(a.p,a(54),a(29)),d=(a(104),a(103),l.a.initializeApp({apiKey:"AIzaSyAztSjJ966DJ3lHsDDbgCj2ZxP8PK_S1WE",authDomain:"minaposento.firebaseapp.com",projectId:"minaposento",storageBucket:"minaposento.appspot.com",messagingSenderId:"1061737270399",appId:"1:1061737270399:web:15c705139a8a8a8532834a"})),h=a(56),u=a(9),j=a(16),f=a(17),b=a(19),p=a(18),m=a(38),g=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"wave-containerkoi",children:Object(n.jsx)("div",{className:"logokoi",children:Object(n.jsx)("div",{id:"mainerror",children:Object(n.jsx)("div",{class:"fof",children:Object(n.jsx)("h1",{children:"Lo sentimos, la plataforma est\xe1 cerrada"})})})})})})})}}]),a}(r.Component),x=(Object(u.g)(g),a(31)),v=a(134),O=a(135),C=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(j.a)(this,a),(e=t.call(this)).continue=function(t){t.preventDefault(),e.props.values.firstName||e.setState({nombreer:!0}),e.props.values.lastName||e.setState({apellidoer:!0}),e.props.values.email||e.setState({emailer:!0}),e.props.values.cedula||e.setState({cedulaer:!0}),e.props.values.monto||e.setState({montoer:!0}),e.props.nextStep()},e.handle=function(t){return function(t){(0,e.props.handleChangeigle)(t.target.value),"Panam\xe1"===t.target.value?e.setState({hijas:!0}):e.setState({hijas:!1})}},e.state={hijas:!1,nombreer:!1,apellidoer:!1,cedulaer:!1,montoer:!1,emailer:!1},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){"Panam\xe1"===this.props.values.igle&&this.setState({hijas:!0})}},{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange;return Object(n.jsxs)("section",{className:"formg",children:[Object(n.jsx)("h3",{className:"textokoiform",children:"Datos"}),Object(n.jsxs)("div",{style:{flex:"row"},children:[Object(n.jsx)(v.a,{error:this.state.nombreer,label:"Nombre",onChange:a("firstName"),defaultValue:t.firstName,variant:"outlined",helperText:"Primer Nombre",margin:"normal",InputLabelProps:{shrink:!0},style:{marginLeft:5,marginBottom:0,width:"45%"}}),Object(n.jsx)(v.a,{error:this.state.apellidoer,label:"Apellido",onChange:a("lastName"),defaultValue:t.lastName,variant:"outlined",helperText:"Primer apellido",margin:"normal",InputLabelProps:{shrink:!0},style:{marginLeft:5,marginBottom:0,width:"45%"}})]}),Object(n.jsx)("div",{className:"selectdiv",children:Object(n.jsx)("div",{className:"select",children:Object(n.jsxs)("select",{name:"slct",id:"slct",required:!0,onChange:a("tipo"),children:[Object(n.jsx)("option",{selected:!0,disabled:!0,children:"Tipo de Boleto"}),Object(n.jsx)("option",{value:"1",children:"Adulto ($50 USD)"}),Object(n.jsx)("option",{value:"2",children:"Ni\xf1os 4-10 ($35 USD)"})]})})}),Object(n.jsxs)("div",{style:{flex:"row"},children:[Object(n.jsx)(v.a,{error:this.state.emailer,label:"Correo",onChange:a("email"),defaultValue:t.email,variant:"outlined",helperText:"Correo Electronico",margin:"normal",InputLabelProps:{shrink:!0},style:{marginLeft:5,marginBottom:0,width:"45%"}}),Object(n.jsx)(v.a,{error:this.state.cedulaer,label:"c\xe9dula",onChange:a("cedula"),defaultValue:t.cedula,variant:"outlined",helperText:"C\xe9dula con guiones",margin:"normal",InputLabelProps:{shrink:!0},style:{marginLeft:5,marginBottom:0,width:"45%"}})]}),Object(n.jsxs)("div",{className:"selectdiv",style:{display:"flex"},children:[Object(n.jsx)("div",{className:"select",children:Object(n.jsxs)("select",{name:"slct2",id:"slct2",onChange:this.handle("igle"),children:[Object(n.jsx)("option",{selected:!0,disabled:!0,children:"Seleccione Sede de Iglesia"}),Object(n.jsx)("option",{value:"Panam\xe1",children:"Panam\xe1"}),Object(n.jsx)("option",{value:"Col\xf3n",children:"Col\xf3n"}),Object(n.jsx)("option",{value:"Penonom\xe9 chigore",children:"Penonom\xe9 Chigor\xe9 "}),Object(n.jsx)("option",{value:"Penonom\xe9 los uveros",children:"Penonom\xe9 Los Uveros"}),Object(n.jsx)("option",{value:"Barraza",children:"Barraza"}),Object(n.jsx)("option",{value:"Pedregal",children:"Pedregal"}),Object(n.jsx)("option",{value:"Arraijan",children:"Arraij\xe1n"}),Object(n.jsx)("option",{value:"Chilibre",children:"Chilibre"})]})}),!0===this.state.hijas&&Object(n.jsx)("div",{className:"select",children:Object(n.jsxs)("select",{name:"slct3",id:"slct3",onChange:a("red"),children:[Object(n.jsx)("option",{selected:!0,disabled:!0,children:"Red Apost\xf3lica"}),Object(n.jsx)("option",{value:"Red juvenil",children:"Red Juvenil"}),Object(n.jsx)("option",{value:"Panam\xe1 Norte",children:"Panam\xe1 Norte "}),Object(n.jsx)("option",{value:"Panam\xe1 Este",children:"Panam\xe1 Este"}),Object(n.jsx)("option",{value:"Panam\xe1 Centro",children:"Panam\xe1 Centro"}),Object(n.jsx)("option",{value:"San Miguelito",children:"San Miguelito"}),Object(n.jsx)("option",{value:"Circuito 8-8",children:"Circuito 8-8"}),Object(n.jsx)("option",{value:"Pueblo Nuevo",children:"Pueblo Nuevo"}),Object(n.jsx)("option",{value:"Ca\xf1itas",children:"Ca\xf1itas"})]})})]}),Object(n.jsx)(v.a,{error:this.state.montoer,label:"Monto a pagar",onChange:a("monto"),defaultValue:t.monto,variant:"outlined",helperText:"Monto pagado a la cuenta",margin:"normal",type:"number",InputLabelProps:{shrink:!0},style:{marginLeft:5,marginBottom:0,width:"91%"}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(O.a,{style:{background:"#0032b9",color:"#ffff",width:"90%",margin:"auto",height:"10%"},label:"Siguiente",onClick:this.continue,children:"Siguiente"})]})}}]),a}(r.Component),N=a(34),k=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(j.a)(this,a),(e=t.call(this)).continue=function(t){t.preventDefault(),e.props.nextStep()},e.back=function(t){t.preventDefault(),e.props.prevStep()},e.getAsText=function(t){var a=new FileReader;a.readAsDataURL(t),a.onload=e.loadHandler,a.onerror=e.errorHandler},e.loadHandler=function(t){var a=e.props,n=a.handleChangefilebob,r=(a.handleChange,t.target.result);e.setState({downloadURL:r}),n(r)},e.onDrop=function(t){e.getAsText(t[0]),e.props.handleChangefile(t)},e.state={disabled:!1,files:[],downloadURL:null},e}return Object(f.a)(a,[{key:"errorHandler",value:function(e){"NotReadableError"==e.target.error.name&&alert("Canno't read file !")}},{key:"render",value:function(){var e=this,t=this.props,a=t.values,r=t.subircap,o=a.files.map((function(e,t){return Object(n.jsx)("li",{children:e.name},e.name)}));return Object(n.jsxs)("section",{className:"formg",ref:this.props.refe,children:[Object(n.jsx)("h3",{className:"textokoiform4",children:"Comprobante de pago"}),Object(n.jsx)("h4",{className:"textokoiform4",children:"Agregue aqu\xed el comprobante de pago."}),Object(n.jsx)("h4",{className:"textokoiform4",children:"Puede hacerlo a la cuenta Global Bank Ministerio Evangelico El Aposento Alto cuenta corriente 01101232599."}),Object(n.jsx)(m.a,{className:"dropzone",onDrop:this.onDrop,children:function(t){var a=t.getRootProps,r=t.getInputProps;return Object(n.jsxs)("section",{className:"container",children:[Object(n.jsxs)("div",Object(N.a)(Object(N.a)({},a({className:"dropzone"})),{},{children:[Object(n.jsx)("input",Object(N.a)({},r())),Object(n.jsx)("p",{children:"Arrastre un archivo  o haga click para seleccionarlo (comprobante de dep\xf3sito)"}),Object(n.jsx)("img",{className:"imagencaptura",src:e.state.downloadURL||"",alt:"Imagen",height:"200"})]})),Object(n.jsxs)("aside",{children:[Object(n.jsx)("h4",{children:"Archivo"}),Object(n.jsx)("ul",{children:o})]})]})}}),Object(n.jsx)(O.a,{style:{background:"#1b0578",color:"#FFFFFF",marginRight:"1em",width:"40%",height:"10%"},label:"Back",onClick:this.back,children:"Atras"}),Object(n.jsxs)(O.a,{style:{background:"#fa7b25",color:"#ffff",width:"40%",height:"10%"},label:"Continue",onClick:r,children:[" ","Finalizar"]})]})}}]),a}(r.Component),S=a(43),y=a.p+"static/media/logo_aposento nuevo-01.f11d5eb6.png",w=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(j.a)(this,a),(e=t.call(this)).continue=function(t){t.preventDefault(),e.props.nextStep()},e.back=function(t){t.preventDefault(),e.props.prevStep()},e.getAsText=function(t){var a=new FileReader;a.readAsText(t),a.onload=e.loadHandler,a.onerror=e.errorHandler},e.loadHandler=function(e){e.target.result},e.onDrop=function(t){e.getAsText(t[0]),e.props.handleChangefile(t)},e.state={disabled:!1,files:[]},e}return Object(f.a)(a,[{key:"errorHandler",value:function(e){"NotReadableError"==e.target.error.name&&alert("Canno't read file !")}},{key:"render",value:function(){var e=window.location.href,t=this.props,a=t.values;t.handleChange,a.files.map((function(e,t){return Object(n.jsx)("li",{children:e.name},e.name)}));return Object(n.jsxs)("section",{className:"formg",ref:this.props.refe,children:[Object(n.jsx)("h3",{className:"textokoiform",children:"Guarda esta informaci\xf3n"}),Object(n.jsx)("h3",{className:"textokoiform4",children:"Captura este c\xf3digo"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{className:"textokoiform4",children:"Has registrado correctamente."}),Object(n.jsx)(S.QRCode,{logoImage:y,logoHeight:80,logoWidth:80,size:200,value:e+"/verificar/"+a.id})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h4",{className:"textokoiform4",children:["Nombre: ",a.firstName+" "+a.lastName]}),Object(n.jsxs)("h4",{className:"textokoiform4",children:["C\xe9dula: ",a.cedula]}),Object(n.jsxs)("h4",{className:"textokoiform4",children:["Sede: ",a.igle]}),"Panam\xe1"==a.igle&&Object(n.jsxs)("h4",{className:"textokoiform4",children:["Red: ",a.red]}),Object(n.jsxs)("h4",{className:"textokoiform4",children:["Boleto: ",1==a.tipo?"Completo":"Ni\xf1o"]})]})]})}}]),a}(r.Component),P=(a(55),a(46)),A=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={step:1,firstName:"",lastName:"",email:"",red:"",igle:"",tipo:"",cedula:"",id:"",url:"",urlcap:"",files:[],monto:"",adelante:!0,file:void 0},e.nextStep=function(){console.log("hola");var t=0,a=function(){e.setState({step:r+1})},n=e.state,r=n.step,o=n.firstName,i=n.lastName,s=n.email,c=n.red,l=n.igle,h=n.tipo,u=n.cedula,j=n.monto;d.firestore().collection("cena-registros").where("cedula","==",u).get();"Panam\xe1"==l?""==o||""==i||""==s||""==h||""==u||""==j||""==l||""==c?alert("Por favor llene todos los campos"):d.firestore().collection("cena-registros").where("cedula","==",u).get().then((function(e){e.forEach((function(e){t+=1})),t>0?alert("Esta persona ya est\xe1 registrada"):a()})):""==o||""==i||""==s||""==h||""==u||""==j||""==l?alert("Por favor llene todos los campos"):d.firestore().collection("cena-registros").where("cedula","==",u).get().then((function(e){e.forEach((function(e){t+=1})),t>0?alert("Esta persona ya est\xe1 registrada"):a()}))},e.adelante=function(){var t=e.state.step;e.setState({step:t+1})},e.prevStep=function(){var t=e.state.step;e.setState({step:t-1})},e.firstStep=function(){e.setState({step:1})},e.handleChange=function(t){return function(a){e.setState(Object(x.a)({},t,a.target.value))}},e.handleChangefile=function(t){e.setState({files:t})},e.handleChangeid=function(t){e.setState({id:t})},e.handleChangefilebob=function(t){e.setState({file:t})},e.handleChangeigle=function(t){e.setState({igle:t})},e.subircaptura=function(){if(e.state.adelante){e.setState({adelante:!1});var t=e.state,a=(t.step,t.url,t.firstName),n=t.lastName,r=(t.email,t.red),o=t.igle,i=t.tipo,s=t.cedula,c=t.monto;if(0!=e.state.files.length){var l=new Date,h=String(l.getDate()).padStart(2,"0"),u=String(l.getMonth()+1).padStart(2,"0"),j=l.getFullYear();l=h+"-"+u+"-"+j;var f=d.firestore().collection("cena-registros").doc(),b=d.storage().ref("cena/comprobantes");e.setState({id:f.id});var p=b.child(f.id);console.log("aca qui bien"),p.putString(e.state.file,"data_url").then((function(t){t.ref.getDownloadURL().then((function(t){var d;d=f.id,e.setState({id:d}),f.set({uid:f.id,nombre:a,apellido:n,red:r,igle:o,tipo:i,cedula:s,fecha:l,url:t,pagosurl:[t],verificado:0,monto:parseFloat(c),pagado:0}).then((function(){console.log("hasta qui tan bien"),function(){var t=e.state.step;e.setState({step:t+1})}()})).catch((function(e){alert("No se pudo subir su registro, porfa recargue la pagina e intentelo nuevamente"),p.delete().then((function(){})),console.error("Error writing document: ",e)}))}))}))}}},e}return Object(f.a)(a,[{key:"renderSwitch",value:function(e){var t=this.state,a=t.firstName,r=t.lastName,o=t.email,i=t.igle,s={firstName:a,lastName:r,email:o,red:t.red,igle:i,files:t.files,tipo:t.tipo,cedula:t.cedula,id:t.id,file:t.file,urlcap:t.urlcap,monto:t.monto};switch(e){default:return Object(n.jsx)("h1",{children:"User Forms not working. Enable Javascript!"});case 1:return Object(n.jsx)(C,{nextStep:this.nextStep,handleChange:this.handleChange,handleChangeigle:this.handleChangeigle,values:s});case 2:return Object(n.jsx)(k,{subircap:this.subircaptura,prevStep:this.prevStep,handleChangefile:this.handleChangefile,handleChange:this.handleChange,handleChangefilebob:this.handleChangefilebob,values:s});case 3:return Object(n.jsx)(w,{handleChange:this.handleChange,prevStep:this.prevStep,values:s})}}},{key:"render",value:function(){var e=this.state.step;return Object(n.jsxs)("div",{className:"formularioCont",ref:this.props.refProp,children:[Object(n.jsx)("div",{className:"barradeprogreso",children:Object(n.jsxs)(P.ProgressBar,{percent:100/3*e,filledBackground:"linear-gradient(to right, #fefb72, #f0bb31)",children:[Object(n.jsx)(P.Step,{transition:"scale",children:function(e){var t=e.accomplished;return Object(n.jsx)("img",{style:{filter:"grayscale(".concat(t?0:80,"%)")},width:"30",src:y})}}),Object(n.jsx)(P.Step,{transition:"scale",children:function(e){var t=e.accomplished;return Object(n.jsx)("img",{style:{filter:"grayscale(".concat(t?0:80,"%)")},width:"30",src:y})}}),Object(n.jsx)(P.Step,{transition:"scale",children:function(e){var t=e.accomplished;return Object(n.jsx)("img",{style:{filter:"grayscale(".concat(t?0:80,"%)")},width:"30",src:y})}})]})}),this.renderSwitch(e)]})}}]),a}(r.Component),R=a(136),D=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(j.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={step:1,cedula:"",html:""},e.buscar=function(t){var a,r=window.location.href;d.firestore().collection("cena-registros").where("cedula","==",t).get().then((function(t){t.forEach((function(e){a=e.data()}));a.tipo;if(R.a)var o=Object(n.jsxs)("div",{children:[Object(n.jsxs)("h4",{className:"textokoiform2",children:["Este boleto: ",0==a.verificado?"Aun no esta verificado por la administraci\xf3n":"Ya esta verificado por la administraci\xf3n"]}),Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(n.jsx)(S.QRCode,{logoImage:y,logoHeight:60,logoWidth:60,size:200,value:r+"/verificar/"+a.uid}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h4",{className:"textokoiform4",children:[" ",0==a.pagado?"Abonado":1==a.pagado?"Pagado":"Pendiente"]}),Object(n.jsxs)("h4",{className:"textokoiform4",children:["Nombre: ",a.nombre+" "+a.apellido]}),Object(n.jsxs)("h4",{className:"textokoiform4",children:["C\xe9dula: ",a.cedula]}),Object(n.jsxs)("h4",{className:"textokoiform4",children:["Sede: ",a.igle]}),"Panam\xe1"==a.igle&&Object(n.jsxs)("h4",{className:"textokoiform4",children:["Red: ",a.red]}),Object(n.jsxs)("h4",{className:"textokoiform4",children:["Boleto: ",1==a.tipo?"Completo":"Ni\xf1o"]}),2===a.tipo&&Object(n.jsxs)("h4",{className:"textokoiform4",children:["Turno: ",a.turno]}),0===a.pagado&&Object(n.jsxs)(O.a,{style:{background:"#0032b9",color:"#ffff",width:"40%",height:"20%"},label:"Continue",onClick:function(){return e.routeChange(a.uid)},children:[" ","Pagar"]})]})]})]});a&&e.setState({html:o})})).catch((function(t){console.log(t),e.setState({html:Object(n.jsx)("h4",{className:"textokoiform4",children:"Este boleto No esta registrado"})})}))},e.handleChange=function(t){return function(a){e.setState(Object(x.a)({},t,a.target.value))}},e}return Object(f.a)(a,[{key:"constuctor",value:function(e){this.routeChange=this.routeChange.bind(this)}},{key:"routeChange",value:function(e){var t="/cena/nuevopago/".concat(e);this.props.history.push(t)}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"formularioCont2",ref:this.props.refProp,children:[Object(n.jsx)("h4",{className:"textokoiform2",children:"Ingresa tu c\xe9dula para obtener detalles de tu reserva"}),Object(n.jsxs)("div",{className:"verifcar",children:[Object(n.jsx)(v.a,{label:"C\xe9dula",onChange:this.handleChange("cedula"),defaultValue:this.state.cedula,variant:"outlined",helperText:"C\xe9dula con guiones",margin:"normal",InputLabelProps:{shrink:!0},style:{marginLeft:5,marginBottom:0,width:"45%"}}),Object(n.jsx)("div",{className:"botonveri",children:Object(n.jsx)(O.a,{style:{background:"#0032b9",color:"#ffff",width:"10%",margin:"auto",marginLeft:5,height:"60%"},label:"bUSCAR",onClick:function(){return e.buscar(e.state.cedula)},children:"BUSCAR"})})]}),Object(n.jsx)("div",{className:"resultadoverificar",children:this.state.html})]})}}]),a}(r.Component),L=Object(u.g)(D),E=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).formularioref=o.a.createRef(),n.verificarref=o.a.createRef(),n}return Object(f.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"wave-containerkoi"}),Object(n.jsx)("section",{ref:this.hola,id:"sectionkoireserva",children:Object(n.jsxs)("div",{className:"headerolas",children:[Object(n.jsx)("div",{className:"inner-header flex",children:Object(n.jsxs)("div",{className:"contenido",children:[Object(n.jsx)(A,{refProp:this.formularioref}),Object(n.jsx)(L,{refProp:this.verificarref})]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("svg",{className:"waves",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 24 150 28",preserveAspectRatio:"none",shapeRendering:"auto",children:[Object(n.jsx)("defs",{children:Object(n.jsx)("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"})}),Object(n.jsxs)("g",{className:"parallax",children:[Object(n.jsx)("use",{href:"#gentle-wave",x:"48",y:"0",fill:"rgba(8,1,37,0.7"}),Object(n.jsx)("use",{href:"#gentle-wave",x:"48",y:"3",fill:"rgba(8,1,37,0.5)"}),Object(n.jsx)("use",{href:"#gentle-wave",x:"48",y:"5",fill:"rgba(8,1,37,0.3)"}),Object(n.jsx)("use",{href:"#gentle-wave",x:"48",y:"7",fill:"#15035f "})]})]})}),Object(n.jsx)("div",{className:"contenidoolas flex",children:Object(n.jsx)("p",{children:"Yamir Mena | 2021 | MEEAA"})})]})})]})})}}]),a}(o.a.Component),F=a(60),B=a.n(F),I=a(71),T=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(j.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={step:1,cedula:"",html:"",asistencia:0,cofee:0},e.asistencia=function(t){d.firestore().collection("Formularios").doc("EJ13sh7uPVGgZLT2KIDg").update({"conteo.asistencia":l.a.firestore.FieldValue.increment(1)}),d.firestore().collection("cena-registros").doc(t).update({asistencia:1}).then((function(){e.setState({asistencia:1}),alert("asistencia marcada"),window.location.reload()}))},e.cofee=function(){var e=Object(I.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.firestore().collection("cena-registros").doc(t).update({cofee:l.a.firestore.FieldValue.increment(-1)}).then((function(){alert("Cofee marcado"),window.location.reload()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.buscar=function(t){var a;d.firestore().collection("cena-registros").where("uid","==",t).get().then((function(t){t.forEach((function(e){a=e.data()})),e.setState({cofee:a.cofee,asistencia:a.asistencia});var r=1==a.tipo?"#1d7499":2==a.tipo?"#00ff15":3==a.tipo?"#0030a1":"#a6c1ff";if(2==a.tipo)try{r="AM"===a.turno?"#00ff15":"#f6ff00"}catch(i){r="#00ff15"}var o=Object(n.jsxs)("div",{children:[Object(n.jsxs)("h4",{className:"textokoiform2",children:["Este boleto: ",0==a.verificado?"Aun no esta verificado":"Ya esta verificado"]}),Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("h4",{className:"textokoiform4",children:[" ",0==a.pagado?"Abonado":1==a.pagado?"Pagado":"Pendiente"]}),Object(n.jsxs)("h4",{className:"textokoiform4",children:["Nombre: ",a.nombre+" "+a.apellido]}),Object(n.jsxs)("h4",{className:"textokoiform4",children:["C\xe9dula: ",a.cedula]}),Object(n.jsxs)("h4",{className:"textokoiform4",children:["Sede: ",a.igle]}),"Panam\xe1"==a.igle&&Object(n.jsxs)("h4",{className:"textokoiform4",children:["Red: ",a.red]}),Object(n.jsxs)("h4",{className:"textokoiform4",children:["Boleto: ",1==a.tipo?"Completo":"Ni\xf1o"]}),2===a.tipo&&Object(n.jsxs)("h4",{className:"textokoiform4",children:["Turno: ",a.turno]}),Object(n.jsxs)("h4",{className:"textokoiform4",children:["Cantidad de cofee: ",e.state.cofee]})]})}),Object(n.jsx)("div",{style:{backgroundColor:r,height:"100px"}}),Object(n.jsxs)("div",{style:{display:"flex",height:"40%",width:"100%",justifyContent:"center"},children:[0!=e.state.cofee&&Object(n.jsx)(O.a,{style:{background:"#fa7b25",color:"#ffff",width:"20%",marginRight:10,display:"block",marginTop:"20px"},label:"Siguiente",onClick:function(){return e.cofee(a.uid)},children:"Cofee tomado"}),0===e.state.asistencia&&Object(n.jsx)(O.a,{style:{background:"#11a600",color:"#ffff",width:"20%",display:"block",marginTop:"20px"},label:"Continue",onClick:function(){return e.asistencia(a.uid)},children:"Asisti\xf3"})]})]});a&&e.setState({html:o})})).catch((function(t){e.setState({html:Object(n.jsx)("h4",{className:"textokoiform4",children:"Este boleto No esta registrado"})})}))},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;console.log(e),this.buscar(e)}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"datos",children:this.state.html})}}]),a}(r.Component),M=Object(u.g)(T),H=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(j.a)(this,a),(e=t.call(this)).state={disabled:!1,files:[],downloadURL:null,file:null,monto:"",montoer:!1,id:void 0,adelante:!0},e.getAsText=function(t){var a=new FileReader;a.readAsDataURL(t),a.onload=e.loadHandler,a.onerror=e.errorHandler},e.loadHandler=function(t){var a=e.props,n=(a.handleChangefilebob,a.handleChange,t.target.result);e.setState({downloadURL:n,file:n})},e.subircaptura=function(){if(e.state.adelante){e.setState({adelante:!1});var t=e.state.monto;console.log(t);if(""==e.state.monto)e.setState({montoer:!0});else if(0!=e.state.files.length){new Date;var a=new Date,n=String(a.getDate()).padStart(2,"0")+"-"+String(a.getMonth()+1).padStart(2,"0")+"-"+a.getFullYear(),r=(a=n+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),d.firestore().collection("cena-registros").doc(e.state.id)),o=d.storage().ref("cena/comprobantes");e.setState({id:r.id});var i=o.child(r.id+a);i.putString(e.state.file,"data_url").then((function(a){a.ref.getDownloadURL().then((function(a){r.update({pagosurl:l.a.firestore.FieldValue.arrayUnion(a),actualizacion:n,monto:l.a.firestore.FieldValue.increment(parseFloat(t))}).then((function(){alert("cargado correctamente"),e.props.history.push("/cena")})).catch((function(e){i.delete(),alert("trate nuevamente"),console.error("Error writing document: ",e)}))}))}))}}},e.handleChange=function(t){return function(a){e.setState(Object(x.a)({},t,a.target.value))}},e.onDrop=function(t){e.getAsText(t[0]),e.setState({files:t})},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.setState({id:e})}},{key:"errorHandler",value:function(e){"NotReadableError"==e.target.error.name&&alert("Canno't read file !")}},{key:"render",value:function(){var e=this,t=this.state.files.map((function(e,t){return Object(n.jsx)("li",{children:e.name},e.name)}));return Object(n.jsxs)("section",{className:"formpago",children:[Object(n.jsx)("h3",{className:"textokoiform4",children:"Comprobante de pago"}),Object(n.jsx)("h4",{className:"textokoiform4",children:"Agregue aqu\xed el comprobante de pago."}),Object(n.jsx)("h4",{className:"textokoiform4",children:"Puede hacerlo a la cuenta de Global Bank Ministerio Evangelico El Aposento Alto cuenta corriente 01101232599."}),Object(n.jsx)(m.a,{className:"dropzone",onDrop:this.onDrop,children:function(a){var r=a.getRootProps,o=a.getInputProps;return Object(n.jsxs)("section",{className:"container",children:[Object(n.jsxs)("div",Object(N.a)(Object(N.a)({},r({className:"dropzone"})),{},{children:[Object(n.jsx)("input",Object(N.a)({},o())),Object(n.jsx)("p",{children:"Arrastre un archivo  o haga click para seleccionarlo (comprobante de dep\xf3sito)"}),Object(n.jsx)("img",{className:"imagencaptura",src:e.state.downloadURL||"",alt:"Imagen",height:"120"})]})),Object(n.jsxs)("aside",{children:[Object(n.jsx)("h4",{children:"Archivo"}),Object(n.jsx)("ul",{children:t})]})]})}}),Object(n.jsx)(v.a,{error:this.state.montoer,label:"Monto a pagar",onChange:this.handleChange("monto"),defaultValue:this.state.monto,variant:"outlined",helperText:"Monto pagado a la cuenta",margin:"normal",InputLabelProps:{shrink:!0},style:{marginLeft:5,marginBottom:0,width:"91%"}}),Object(n.jsxs)(O.a,{style:{background:"#0032b9",color:"#ffff",width:"80%",height:"10%"},label:"Continue",onClick:function(){return e.subircaptura()},children:[" ","Subir"]})]})}}]),a}(r.Component),U=Object(u.g)(H);var z=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2);return t[0],t[1],Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)(h.a,{children:Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{exact:!0,path:"/",children:Object(n.jsx)(u.a,{to:"/cena"})}),Object(n.jsx)(u.b,{exact:!0,path:"/cena",children:Object(n.jsx)(E,{})}),Object(n.jsx)(u.b,{exact:!0,path:"/cena/verificar/:id",children:Object(n.jsx)(M,{})}),Object(n.jsx)(u.b,{exact:!0,path:"/cena/nuevopago/:id",children:Object(n.jsx)(U,{})})]})})})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,138)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),o(e),i(e)}))};s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(z,{})}),document.getElementById("root")),V()},54:function(e,t,a){},83:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.4e26bae8.chunk.js.map